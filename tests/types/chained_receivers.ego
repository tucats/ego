@test "types: chained builtin receivers"

{
    // This test verifies that the chained set of builtin function
    // calls below ( "New", "Media", and "Base" ) all use the 
    // "this" value passed from one to the next. The member dereference
    // is prefaced by capturing the member and doing SetThis
    
    url := "http://localhost:8080"
    r := rest.New().Media("text").Base(url)
    @assert T.Equal(r.baseURL, url)
    @assert T.Equal(r.mediaType, "text")
}
@pass